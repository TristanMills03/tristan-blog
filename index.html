<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vitality | Performance Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #020617;
        }
        .card-glass {
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .progress-ring {
            transition: stroke-dashoffset 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        .glow-cyan { box-shadow: 0 0 20px rgba(6, 182, 212, 0.2); }
        .glow-rose { box-shadow: 0 0 20px rgba(244, 63, 94, 0.2); }
        .glow-violet { box-shadow: 0 0 20px rgba(139, 92, 246, 0.2); }
    </style>
</head>
<body class="text-slate-200 min-h-screen pb-12">

    <!-- Navigation -->
    <nav class="px-6 py-6 sticky top-0 z-50">
        <div class="max-w-5xl mx-auto flex justify-between items-center card-glass rounded-3xl px-6 py-3">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center font-bold text-slate-950 italic">V</div>
                <span class="text-xl font-extrabold tracking-tight">VITALITY</span>
            </div>
            <div class="flex gap-4 items-center">
                <span id="currentDate" class="hidden md:block text-sm font-medium text-slate-400"></span>
                <div class="w-10 h-10 rounded-full bg-slate-800 border border-slate-700 overflow-hidden">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=neutral" alt="User">
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Dashboard -->
    <main class="max-w-5xl mx-auto px-6 space-y-8">
        
        <!-- Header -->
        <header class="space-y-2">
            <h1 class="text-3xl font-bold">Performance <span class="text-cyan-500">Dashboard</span></h1>
            <p id="motivationalText" class="text-slate-400">Track your daily vitals and consistency.</p>
        </header>

        <!-- Stats Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            
            <!-- Water Intake -->
            <div class="card-glass p-6 rounded-[2.5rem] flex flex-col items-center text-center space-y-4 glow-cyan">
                <div class="relative w-32 h-32">
                    <svg class="w-full h-full" viewBox="0 0 100 100">
                        <circle class="text-slate-800" stroke-width="8" stroke="currentColor" fill="transparent" r="40" cx="50" cy="50"/>
                        <circle id="waterRing" class="text-cyan-500 progress-ring" stroke-width="8" stroke-dasharray="251.2" stroke-dashoffset="251.2" stroke-linecap="round" stroke="currentColor" fill="transparent" r="40" cx="50" cy="50"/>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center flex-col">
                        <span id="waterValue" class="text-2xl font-bold">0.0</span>
                        <span class="text-[10px] text-slate-400 uppercase font-bold">Liters</span>
                    </div>
                </div>
                <div>
                    <h3 class="font-bold text-lg">Water Intake</h3>
                    <p class="text-slate-400 text-sm">Goal: 3.5L</p>
                </div>
                <button onclick="addWater()" class="w-full py-3 bg-cyan-500/10 text-cyan-400 rounded-2xl font-bold hover:bg-cyan-500 hover:text-white transition">+ Add 250ml</button>
            </div>

            <!-- Calories -->
            <div class="card-glass p-6 rounded-[2.5rem] flex flex-col items-center text-center space-y-4 glow-rose">
                <div class="relative w-32 h-32">
                    <svg class="w-full h-full" viewBox="0 0 100 100">
                        <circle class="text-slate-800" stroke-width="8" stroke="currentColor" fill="transparent" r="40" cx="50" cy="50"/>
                        <circle id="calorieRing" class="text-rose-500 progress-ring" stroke-width="8" stroke-dasharray="251.2" stroke-dashoffset="251.2" stroke-linecap="round" stroke="currentColor" fill="transparent" r="40" cx="50" cy="50"/>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center flex-col">
                        <span id="calorieValue" class="text-2xl font-bold">0</span>
                        <span class="text-[10px] text-slate-400 uppercase font-bold">kcal</span>
                    </div>
                </div>
                <div>
                    <h3 class="font-bold text-lg">Calories</h3>
                    <p id="calorieRemaining" class="text-slate-400 text-sm">Goal: 2300 kcal</p>
                </div>
                <div class="flex w-full gap-2">
                    <input id="calorieInput" type="number" placeholder="kcal" class="w-20 bg-slate-900 border border-slate-700 rounded-xl px-2 text-center text-sm focus:outline-none focus:border-rose-500">
                    <button onclick="addCalories()" class="flex-1 py-3 bg-rose-500/10 text-rose-400 rounded-2xl font-bold hover:bg-rose-500 hover:text-white transition">Log</button>
                </div>
            </div>

            <!-- Gym Session -->
            <div class="card-glass p-6 rounded-[2.5rem] flex flex-col items-center text-center space-y-4 glow-violet">
                <div id="gymStatusIcon" class="w-32 h-32 bg-violet-500/10 rounded-full flex items-center justify-center transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-violet-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                </div>
                <div>
                    <h3 class="font-bold text-lg">Gym Session</h3>
                    <p id="gymStatusText" class="text-slate-400 text-sm italic">Not started today</p>
                </div>
                <button id="gymToggle" onclick="toggleGym()" class="w-full py-3 bg-violet-600 text-white rounded-2xl font-bold hover:bg-violet-500 transition shadow-lg shadow-violet-500/20">Start Workout</button>
            </div>

        </div>

        <!-- Settings / Reset -->
        <div class="flex justify-center pt-8">
            <button onclick="resetAll()" class="text-xs text-slate-600 hover:text-red-500 transition uppercase font-bold tracking-widest border-b border-transparent hover:border-red-500 pb-1">Reset Today's Data</button>
        </div>

    </main>

    <script>
        // Config
        const GOALS = { water: 3.5, calories: 2300 };
        const CIRCUMFERENCE = 2 * Math.PI * 40;

        // Default Empty State
        let state = {
            water: 0,
            calories: 0,
            isWorkingOut: false,
            lastDate: new Date().toLocaleDateString()
        };

        // Initialize App
        function init() {
            const saved = localStorage.getItem('vitality_tracker_v1');
            if (saved) {
                const parsed = JSON.parse(saved);
                // Simple day-check: if the date changed, reset the intakes to 0
                if (parsed.lastDate === new Date().toLocaleDateString()) {
                    state = parsed;
                } else {
                    state.lastDate = new Date().toLocaleDateString();
                    save(); // Reset state for new day
                }
            }
            
            updateUI();
            document.getElementById('currentDate').innerText = new Date().toLocaleDateString('en-US', { weekday: 'long', day: 'numeric', month: 'short' });
        }

        function save() {
            localStorage.setItem('vitality_tracker_v1', JSON.stringify(state));
        }

        function updateUI() {
            // Update Water
            document.getElementById('waterValue').innerText = state.water.toFixed(1);
            const waterOffset = CIRCUMFERENCE - (Math.min(state.water / GOALS.water, 1) * CIRCUMFERENCE);
            document.getElementById('waterRing').style.strokeDashoffset = waterOffset;

            // Update Calories
            document.getElementById('calorieValue').innerText = state.calories;
            const calOffset = CIRCUMFERENCE - (Math.min(state.calories / GOALS.calories, 1) * CIRCUMFERENCE);
            document.getElementById('calorieRing').style.strokeDashoffset = calOffset;
            document.getElementById('calorieRemaining').innerText = `Remaining: ${Math.max(GOALS.calories - state.calories, 0)} kcal`;

            // Update Gym
            const gymBtn = document.getElementById('gymToggle');
            const gymText = document.getElementById('gymStatusText');
            const gymIcon = document.getElementById('gymStatusIcon');
            
            if (state.isWorkingOut) {
                gymBtn.innerText = 'Stop Workout';
                gymBtn.className = "w-full py-3 bg-red-600 text-white rounded-2xl font-bold hover:bg-red-500 transition shadow-lg shadow-red-500/20";
                gymText.innerText = 'Timer Running...';
                gymIcon.classList.add('bg-red-500/10', 'text-red-500');
                gymIcon.classList.remove('bg-violet-500/10', 'text-violet-500');
            } else {
                gymBtn.innerText = 'Start Workout';
                gymBtn.className = "w-full py-3 bg-violet-600 text-white rounded-2xl font-bold hover:bg-violet-500 transition shadow-lg shadow-violet-500/20";
                gymText.innerText = state.water > 0 || state.calories > 0 ? 'Go get after it!' : 'Not started today';
                gymIcon.classList.add('bg-violet-500/10', 'text-violet-500');
                gymIcon.classList.remove('bg-red-500/10', 'text-red-500');
            }
        }

        // Action Functions
        window.addWater = function() {
            state.water = parseFloat((state.water + 0.25).toFixed(2));
            save();
            updateUI();
        };

        window.addCalories = function() {
            const input = document.getElementById('calorieInput');
            const val = parseInt(input.value);
            if (!isNaN(val) && val > 0) {
                state.calories += val;
                input.value = '';
                save();
                updateUI();
            }
        };

        window.toggleGym = function() {
            state.isWorkingOut = !state.isWorkingOut;
            save();
            updateUI();
        };

        window.resetAll = function() {
            if (confirm('Are you sure you want to reset today\'s progress?')) {
                state = { water: 0, calories: 0, isWorkingOut: false, lastDate: new Date().toLocaleDateString() };
                save();
                updateUI();
            }
        };

        // Kick off
        window.onload = init;
    </script>
</body>
</html>
